<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="/css/layout.css">
  <title>小話:等比数列の和の公式  &middot; atri-konami.github.io</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="なんとなく思いついたやつ" />

<meta name="keywords" content="数学, ポエム, ">


<meta property="og:title" content="小話:等比数列の和の公式  &middot; atri-konami.github.io ">
<meta property="og:site_name" content="atri-konami.github.io"/>
<meta property="og:url" content="https://atri-konami.github.io/post/20180509/sum-of-geometric-sequence/" />
<meta property="og:locale" content="ja-JP">


<meta property="og:type" content="article" />
<meta property="og:description" content="なんとなく思いついたやつ"/>
<meta property="og:article:published_time" content="2018-05-09T14:17:16&#43;09:00" />
<meta property="og:article:modified_time" content="2018-05-09T14:17:16&#43;09:00" />

  
    
<meta property="og:article:tag" content="数学">
    
<meta property="og:article:tag" content="ポエム">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="小話:等比数列の和の公式" />
<meta name="twitter:description" content="なんとなく思いついたやつ" />
<meta name="twitter:url" content="https://atri-konami.github.io/post/20180509/sum-of-geometric-sequence/" />
<meta name="twitter:domain" content="https://atri-konami.github.io/">
  

  
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "小話:等比数列の和の公式",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2018-05-09",
    "description": "なんとなく思いついたやつ",
    "wordCount": 2053
  }
</script>
  



<link rel="canonical" href="https://atri-konami.github.io/post/20180509/sum-of-geometric-sequence/" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">

<meta name="generator" content="Hugo 0.23-DEV" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



    <link rel="stylesheet" href="https://atri-konami.github.io/css/bootswatch/default/bootstrap.min.css">


<link rel="stylesheet" href="https://atri-konami.github.io/css/font-awesome.min.css">
<link rel="stylesheet" href="https://atri-konami.github.io/css/style.css">




  <link rel="stylesheet" href="https://atri-konami.github.io/css/highlight/default.css">


</head>
<body data-ng-app="myapp" data-ng-controller="MyController" data-ng-mouseleave="MouseLeave($event)">
    <header id="main-header">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        
        <a class="navbar-brand" href="/">
          atri-konami.github.io
          
          
          </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            
            
            <li class="">

              <a href="https://atri-konami.github.io/" >
                
                Home
              </a>
            </li>
            
            <li class="">

              <a href="https://atri-konami.github.io/about" >
                
                About Me
              </a>
            </li>
            
            <li class="">

              <a href="https://atri-konami.github.io/post" >
                
                Blog
              </a>
            </li>
            
            
              
          </ul>
        </div>
        
      </div>
    </nav>
  </header>


<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <div class="text-center">

    <h1>小話:等比数列の和の公式
</h1>

    <div class="metas">
<small>
  <i class="fa fa-calendar"></i>
  <time datetime="2018-05-09">9 May, 2018</time>
</small>


  <small>
  &middot; Read in about 5 min
  &middot; (2053 words)
  &middot; 
<span class="share-box">Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-facebook-official "></i></a>

    <a href="https://twitter.com/intent/tweet?text=%e5%b0%8f%e8%a9%b1%3a%e7%ad%89%e6%af%94%e6%95%b0%e5%88%97%e3%81%ae%e5%92%8c%e3%81%ae%e5%85%ac%e5%bc%8f&amp;url=https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-twitter"></i></a>

    <a href="https://plus.google.com/share?url=https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-google-plus"></i></a>

    <a href="http://www.reddit.com/submit?url=https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-reddit"></i></a>

    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f&amp;title=%e5%b0%8f%e8%a9%b1%3a%e7%ad%89%e6%af%94%e6%95%b0%e5%88%97%e3%81%ae%e5%92%8c%e3%81%ae%e5%85%ac%e5%bc%8f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-linkedin"></i></a>

    <a href="mailto:?subject=%e5%b0%8f%e8%a9%b1%3a%e7%ad%89%e6%af%94%e6%95%b0%e5%88%97%e3%81%ae%e5%92%8c%e3%81%ae%e5%85%ac%e5%bc%8f&amp;body=Check out this site https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f" data-proofer-ignore=""><i class="fa fa-envelope"></i></a>
  </span>

  </small>

<div class="margin-10">
  <i class="fa fa-tags"></i>
  
  <a href="https://atri-konami.github.io/tags/%E6%95%B0%E5%AD%A6" class="label label-primary">数学</a>
  
  <a href="https://atri-konami.github.io/tags/%E3%83%9D%E3%82%A8%E3%83%A0" class="label label-primary">ポエム</a>
  


</div>

<br>
</div>

  </div>
</div>

      <div class="content">
  

<h1 id="tl-dr">TL;DR</h1>

<p>等比数列の和の公式を思い出すときは&rdquo;n進数&rdquo;を使うとしあわせになれるかもしれない</p>

<h1 id="序文">序文</h1>

<p>さて，皆さんは等比数列の公式を空で書けるだろうか．書ける人にはこの記事は必要ないし，書けない人もこれを見ればかけるようになる保証はまったくないけど一応参考までに．</p>

<p>初項\(a\)，公比 \(r(\not= 1)\) の等比数列の初項から第\(n\)項までのの和は，以下のように表現できる
\[
ar^0 + ar^1 + \cdots + ar^{n-1} = \frac{a(r^n - 1)}{r - 1}
\]
もしくは，分子と分母の正負を反転させたものの方が見覚えがある人もいるかもしれないが，式としては同値なのでここでは上の式を基に話を進めよう．</p>

<p>高校生の時に多くの人が覚えたであろうこの公式．その導出過程を覚えてる人はそこまで多くないであろうし，覚えてた人は偉い．それはこんな方法である．等比数列の和は以下のように表せる
\[
\sum^n_{k=1} ar^{k-1} = ar^0 + ar^1 + \cdots + ar^{n-1}
\]</p>

<p>次に，以下の式を考える</p>

<p>\[
\begin{align}
(r-1) \sum^n_{k=1}r^{k-1} &amp;= (r-1)(r^0 + r^1 + \cdots + r^{n-1}) \\\<br />
&amp;=  (r^1 + r^2 + \cdots + r^n) - (r^0 + r^1 + \cdots + r^{n-1}) \\\<br />
&amp;= r^n - 1
\end{align}
\]</p>

<p>これを \(\frac{a}{r-1}\) 倍すれば等比数列和の公式になる．わーい！<strong>ではない</strong>
これを見て直観的に理解できるならそれでいいが，頭の悪い私にはどう見ても元の公式ありきの立式にしか見えない．この差を取るテクニック自体はかなり重要だとは思うが．</p>

<p>で，この歳になってなんかいい感じの方法を閃いたのでなんとなく書き残そうとした次第．キーワードは&rdquo;n進数&rdquo;．</p>

<h1 id="本文">本文</h1>

<p>コンピュータを触っていると良く&rdquo;2進数&rdquo;を目にする．2進数というのは&rdquo;10100101010&rdquo;のような1と0の羅列である．コンピュータにとってはこの&rdquo;2進数&rdquo;が処理の基本となる．一方で，我々人類は基本的にはものを数えるときは&rdquo;10進数&rdquo;を使う．たとえば&rdquo;1145141919810&rdquo;などである(きたない).</p>

<p>おそらくコンピュータに触れたことがある人ならば，誰しも2進数&lt;=&gt;10進数の変換というのをやったことがあると思う．この時に2進数の数え方を学ぶわけだが，それは形式的に書くとこのような感じである．</p>

<p>\(n_0\) から \(n_{m-1}\) は0か1のいずれかである．\(m\)桁の2進数とは以下のように表される</p>

<p>\[n_{m-1} n_{m-2} \cdots n_1 n_0 \]</p>

<p>慣例的に\(m &gt; 1\)のとき\(n_{m-1} \not= 0\)である．この時各 \(n_i (0 \leq i \leq m-1)\) は \(n_i \times 2^i\) と数えられ，この数自体の大きさは</p>

<p>\[
\sum^{m-1}_{k=0} n_k \times 2^k
\]</p>

<p>で数えられる．</p>

<p>また，2進数を使っているとこんな現象もよくみる(?)．左端だけ1であるような10桁の2進数を考えよう．&rdquo;1000000000&rdquo;，これは先ほどの式を使うと \(2^9\)であることが分かる．ではここから1を引くとどうなるか？というと，2進数の引き算でも10進数と同じく&rdquo;繰り下がり&rdquo;が発生して，結果としては1が9つ並んだ2進数となる．&rdquo;111111111&rdquo;，これは \(2^8 + 2^7 + \cdots + 2^1 + 2^0\)である．</p>

<p>この観察から以下のような結果が得られる．
\[ 2^m - 1 = \sum^{m-1}_{k=0} 2^k \]</p>

<p>これは勿論10進数でも同じようなことが言える．10進数の場合は，桁を表す数字が \({0,1}\) から \({0,1,2,3,4,5,6,7,8,9}\) になり，各桁が10の累乗で数えられるというだけである．</p>

<p>おそらくコンピュータに馴染みのない人はこちらのほうが例えがわかりやすいかもしれない．例えば1円の買い物(何買ったんだ)をして1万円札(10000円,5桁)で払ったとしよう(迷惑すぎる)．するとお釣りは9999円である．つまり，各桁が9であるような4桁の10進数になる．この観察から以下のような式が得られる</p>

<p>\[
10^m - 1 = \sum^{m-1}_{k=0} 9 \times 10^k
\]</p>

<p>ここまで来るとなんとなーく私の言いたいことが分かる人がいるかもしれない．つまり，<strong>等比数列の和を考えるときは公比\(r\)について&rdquo;r進数&rdquo;を考えよう！</strong>ということである．</p>

<p>等比数列のn項和は初項\(a\)，公比\(r\)の時，</p>

<p>\[ ar^0 + ar^1 + \cdots + ar^{n-1} \]</p>

<p>である．ここで，一旦\(a\)は無視しよう．次に，\(n+1\)桁目が&rdquo;1&rdquo;でそれ以下の桁が&rdquo;0&rdquo;であるような\(n+1\)桁の&rdquo;r進数&rdquo;を考えよう．この数は\(r^n\)と数えられる．
この数から1を引くと，各桁が\(r-1\)であるような，\(n\)桁の数が得られる．これを式に直すと
\[
\begin{align}
r^n - 1 &amp;= \sum^{n-1}_{k=0} (r-1) \times r^k \\\<br />
&amp;= (r-1)r^0 + (r-1) r^1 + \cdots + (r-1) r^{n-1}
\end{align}
\]</p>

<p>では，これを両辺 \(\frac{a}{r-1}\) 倍すると…</p>

<p>\[
\frac{a(r^n - 1)}{r-1} = ar^0 + ar^1 + \cdots + ar^{n-1}
\]</p>

<p>となって，めでたしめでたし．(分子分母に-1をかければ，最初の公式も出てきます)</p>

<h1 id="おわりに">おわりに</h1>

<p>このアイディア，なんとなーく2進数眺めてたら発見して以来，結構好みな考え方です．他の皆さんはどんな感じにあの公式を納得してるのか気になるので，よければTwitter等で意見をお寄せください(@atri_konami)</p>

<p>ちなみにまだ内定はないです．こんなん書いてないで就活真面目にやれって話ですね，ええ．</p>

<p>あとMarkdownとMathjaxの相性があまりにも悪いので誰かいい書き方あったら教えてくだしあ</p>

</div>


      <footer>
  
<span class="share-box">Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-facebook-official "></i></a>

    <a href="https://twitter.com/intent/tweet?text=%e5%b0%8f%e8%a9%b1%3a%e7%ad%89%e6%af%94%e6%95%b0%e5%88%97%e3%81%ae%e5%92%8c%e3%81%ae%e5%85%ac%e5%bc%8f&amp;url=https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-twitter"></i></a>

    <a href="https://plus.google.com/share?url=https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-google-plus"></i></a>

    <a href="http://www.reddit.com/submit?url=https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-reddit"></i></a>

    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f&amp;title=%e5%b0%8f%e8%a9%b1%3a%e7%ad%89%e6%af%94%e6%95%b0%e5%88%97%e3%81%ae%e5%92%8c%e3%81%ae%e5%85%ac%e5%bc%8f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-linkedin"></i></a>

    <a href="mailto:?subject=%e5%b0%8f%e8%a9%b1%3a%e7%ad%89%e6%af%94%e6%95%b0%e5%88%97%e3%81%ae%e5%92%8c%e3%81%ae%e5%85%ac%e5%bc%8f&amp;body=Check out this site https%3a%2f%2fatri-konami.github.io%2fpost%2f20180509%2fsum-of-geometric-sequence%2f" data-proofer-ignore=""><i class="fa fa-envelope"></i></a>
  </span>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="https://atri-konami.github.io/post/20180408/beginning-of-jobhunting/" title="就活を始めて">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
      <li class="next">
        <a href="https://atri-konami.github.io/post/20180724/after-jobhunting/" title="就活を終えて">
            Next <span aria-hidden="true">&rarr;</span>
        </a>
      </li>
    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  

</div>

</footer>

    </div>
    
  </div>
</div>
    
<footer class="footer hidden-print">
  <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
           <div class="pull-left">
  <a class="toplink" href="javascript:" id="return-to-top">back to top</a>
</div>
<div class="pull-right">

</div>

        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
              
    
<div class="container footline">
    <small>
</small>
</div>


    


        </div>
    </div>
  </div>
</footer>

    

<script src="//s3.amazonaws.com/mailmunch/static/site.js" id="mailmunch-script" data-mailmunch-site-id="" async="async"></script>



<script src="//load.sumome.com/" data-sumo-site-id="" async="async"></script>

<script src="https://atri-konami.github.io/js/jquery.min.js"></script>
<script src="https://atri-konami.github.io/js/bootstrap.min.js"></script>

<script src="https://atri-konami.github.io/js/angular.min.js"></script>
<script src="/js/popover/angular-storage.min.js"></script>
<script src="https://atri-konami.github.io/js/highlight.pack.js"></script>
<script src="https://atri-konami.github.io/js/site.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
var ENABLE_POPOVER = "", 
EXPIRE_COOKIE = "", 
SHOW_MODAL_TIMEOUT = "", 
MOUSE_LEAVE = "", 
MODAL_SIZE = "", 
POST_URL = "", 
SIGNUP_HEADER = "",
HEADER_IMAGE = "",
IMG_DESCRIPTION = "",
SIGNUP_TEXT = "",
INPUT_PLACEHOLDER = "",
SUBMIT_BUTTON = "",
SUCCESS_MESSAGE = "",
ERROR_MESSAGE = "",
OPTIN = "",
COOKIE_NAME = "",
CONTENTLANGUAGE = ""; 
</script>

<script src="/js/popover/angular-modal-service.min.js"></script>
<script src="/js/angular-ismobile.min.js"></script>
<script src="/js/popover/popover.min.js"></script>


<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/config/TeX-AMS-MML_HTMLorMML.js"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    for(var all in MathJax.Hub.getAllJax()) {
        all.SourceElement().parentNode.className += ' has-jax';

    }
});
</script>






  </body>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69236694-2', 'auto');
  ga('send', 'pageview');

  </script>
</html>

